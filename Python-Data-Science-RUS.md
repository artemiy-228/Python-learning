# Вступление

## Статистика

### Среднее арифметическое

Наука о данных использует различные методы и методы для извлечения знаний и идей из данных.
Давайте сначала погрузимся в некоторые основы статистики. Эти концепции составляют основные строительные блоки анализа данных.
В качестве примера набора данных рассмотрим цены на группу товаров:


	[18, 24, 67, 55, 42, 14, 19, 26, 33]

Данный набор данных включает цены на 9 товаров.

**Среднее** – это среднее значение набора данных. Мы можем рассчитать его, сложив все цены вместе и разделив на количество продуктов:

	mean = 298/9 = 33.1

> Подсказка: обратите внимание, что среднее значение обычно не является частью нашего набора данных.

### Медиана(центральные значение)

Еще одна полезная концепция — **медиана**: среднее значение упорядоченного набора данных.
Чтобы вычислить медиану для нашего набора данных о ценах, давайте сначала упорядочим его в порядке возрастания:

	[14, 18, 19, 24, 26, 33, 42, 55, 67]
	median = 26

**Медиана** составляет **26**, так как это среднее значение.
Если бы в нашем наборе данных было четное количество значений, мы бы взяли два значения посередине и вычислили их среднее значение.

	[14, 18, 19, 24, 26, 25, 33, 42, 55, 67]
	median = 25.5

Медиана, как правило, более полезна, чем среднее значение. Это связано с тем, что среднее значение может сильно различаться из-за того, что одно значение намного больше или меньше других.

> Подсказка: **среднее** и **медиана** называются
**Показатели центральной тенденции**, так как они описывают, где находится центр наших данных.

***

## Больше статистики

### Среднеквадратичное отклонение

**Среднеквадратичное отклонение** — это показатель того, насколько разбросаны наши данные.
Чтобы вычислить его, нам сначала нужно вычислить значение, называемое **Дисперсия**: среднее квадратов различий от **среднего**.

Итак, для наших ценовых данных:

	[14, 18, 19, 24, 26, 33, 42, 55, 67] 

Среднее значение составляет **33,1**. Чтобы вычислить дисперсию, мы берем разницу между каждым значением и средним значением, возводим ее в квадрат, а затем усредняем результат: Дисперсия = **292,5**

Теперь мы возьмем квадратный корень из дисперсии, чтобы получить стандартное отклонение: стандартное отклонение = 17,1

	import math
	
	list = [14, 18, 19, 24, 26, 33, 42, 55, 67]
	mean = round(sum(list) / len(list), 2)
	
	sum = 0
	
	for i in list:
	    sum += (i - mean)**2
	    
	sum /= len(list)
	print(round(math.sqrt(sum), 2)) # Variance is 17.10

Теперь мы можем проверить, какие возрасты находятся в пределах одного стандартного отклонения (17,1) от среднего (33,1) - от (33,1-17,1) до (33,1+17,1):

	[14, 18, 19, 24, 26, 33, 42, 55, 67]
	
	[18, 19, 24, 26, 33, 42]  

Как видите, 6 значений из 9 находятся в этом диапазоне.

> Совет. Низкое стандартное отклонение указывает на то, что значения, как правило, близки к среднему значению набора, а высокое стандартное отклонение указывает на то, что значения разбросаны по более широкому диапазону.

### Статистика

Мы научились рассчитывать основную сводную статистику по набору данных:
**среднее**: среднее значение.
**медиана**: среднее значение.
**стандартное отклонение**: мера разброса.

Эти статистические данные предоставляют информацию о вашем наборе данных и помогают понять, где находятся значения ваших данных и как они распределяются.

> Подсказка: Python предоставляет библиотеки, которые вычисляют для вас сводную статистику. О них мы узнаем на следующих уроках.

***

# Математические операции с NumPy

## Что такое NumPy

### NumPy

NumPy (Numerical Python) — это библиотека Python, используемая для работы с числовыми данными.
NumPy включает в себя функции и структуры данных, которые могут выполнять широкий спектр математических операций.

Чтобы начать использовать NumPy, нам сначала нужно его импортировать:

	import numpy as np 

> Подсказка: np — наиболее распространенное имя, используемое для импорта numpy.

### NumPy Массивы

В Python списки используются для хранения данных.
NumPy предоставляет структуру массива для выполнения операций с данными.
Массивы NumPy быстрее и компактнее списков.

Массив NumPy можно создать с помощью функции np.array(), предоставив ей список в качестве аргумента:

	x = np.array([1, 2, 3, 4]) 

Теперь x — это массив NumPy, содержащий 4 значения.
Мы можем получить доступ к его элементам, используя их индексы, которые начинаются с 0:

	print(x[0]) # Output is 1

> Подсказка. Массивы NumPy однородны, то есть могут содержать данные только одного типа, тогда как списки могут содержать несколько разных типов данных.

*** 

## Использование NumPy массивов

### NumPy массивы

Массивы NumPy часто называют ndarrays, что означает «N-мерный массив», поскольку они могут иметь несколько измерений.

#### Например:

	x = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
	print(x[1][2])

Это создаст двумерный массив, который имеет 3 столбца и 3 строки, и выведет значение во 2-й строке и 3-м столбце.

Массивы имеют свойства, доступ к которым можно получить с помощью точки.
ndim возвращает количество измерений массива.
size возвращает общее количество элементов массива.
shape возвращает кортеж целых чисел, указывающих количество элементов, хранящихся в каждом измерении массива.

#### Например:

	x = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]]) 
	print(x.ndim) # 2
	print(x.size) # 9
	print(x.shape) # (3, 3)

> Подсказка: Итак, массив в нашем примере имеет 2 измерения, 9 элементов и представляет собой матрицу 3x3 (3 строки и 3 столбца).


### NumPy массивы

Мы можем добавлять, удалять и сортировать массив с помощью функций np.append(), np.delete() и np.sort().

#### Например:

	import numpy as np

	x = np.array([2, 1, 3])
	x = np.append(x, 4)
	x = np.sort(x)

	print(x) # Output is [1, 3, 4]
	
np.arange() позволяет создать массив, содержащий диапазон равномерно расположенных интервалов (аналогично диапазону Python):

	import numpy as np

	x = np.arange(2, 10, 3)
	print(x) #x is [2, 5, 8]

## Изменение формы

### Изменение

Напомним, что shape относится к количеству строк и столбцов в массиве.
Например, рассмотрим следующий массив:

	x = np.arange(1, 7)

Это одномерный массив, содержащий 6 элементов.

NumPy позволяет нам изменять форму наших массивов с помощью функции reshape(). Например, мы можем изменить наш одномерный массив на массив с 3 строками и 2 столбцами:

	z = x.reshape(3, 2)

>Подсказка: когда вы используете метод изменения формы, массив, который вы хотите создать, должен иметь то же количество элементов, что и исходный массив.

### Изменение формы

Reshape также может сделать обратное: взять 2-мерный массив и сделать из него 1-мерный массив:

	x = np.array([[1, 2], [3, 4], [5, 6]])
	z = x.reshape(6)


В результате получается плоский массив, содержащий 6 элементов.

> Подсказка: Того же результата можно добиться с помощью функции flatten().

## Индексы и срезы

### Индексы и срезы

Массивы NumPy можно индексировать и нарезать так же, как списки Python.

	import numpy as np
		
	x = np.arange(1, 10)
		
	print(x[0:2])
	print(x[5:])
	print(x[:2])
	print(x[-3:])

> Подсказка: Отрицательные индексы считаются с конца массива, поэтому [-3:] приведет к последним 3 элементам.

### Условия

Вы можете указать условие в качестве индекса для выбора элементов, которые удовлетворяют заданному условию.

Например, давайте выберем элементы меньше 4:

	import numpy as np
	
	x = np.arange(1, 10)
	
	print(x[x<4])

Условия можно комбинировать с помощью знаков & (и) и | (или) операторы.
Например, возьмем четные числа больше 5:

> Подсказка: Условие также может быть присвоено переменной, которая будет массивом логических значений, показывающих, удовлетворяют ли значения в массиве условию:
у = (х> 5) и (х% 2 == 0)

***

## Операции с массивами

### Операции

С массивами легко выполнять основные математические операции.
Например, чтобы найти сумму всех элементов, мы используем функцию sum():

	import numpy as np

	x = np.arange(1, 10)

	print(x.sum())

Точно так же min() и max() можно использовать для получения наименьшего и наибольшего элементов.

Мы также можем выполнять операции между массивом и одним числом.
Например, мы можем умножить все элементы на 2:

	import numpy as np

	x = np.arange(1, 10)
	y = x*2

	print(y)	

Так просто! Возьмите свой массив и выполните с ним любую операцию, которую хотите!

> Подсказка: NumPy понимает, что данная операция должна выполняться с каждым элементом. Это называется трансляция.


### Статистика

Помните сводную статистику, которую мы изучили в предыдущем модуле? К ним относятся **среднее значение, медиана, дисперсия** и **стандартное отклонение**.

Массивы NumPy имеют встроенные функции для возврата этих значений.

	import numpy as np

	x = np.array([14, 18, 19, 24, 26, 33, 42, 55, 67])
	
	print(np.mean(x))
	print(np.median(x))
	print(np.var(x))
	print(np.std(x))


> Подсказка: как видите, NumPy предоставляет множество полезных функций для выполнения обычных операций с массивами.	

***

# Работа с информацией с помощью Pandas

## Что такое Pandas?

### Что такое Pandas?

Pandas — одна из самых популярных библиотек для обработки данных в Python. Простой в использовании, он построен на основе NumPy и имеет много общих функций и свойств.

С Pandas вы можете читать и извлекать данные из файлов, преобразовывать и анализировать их, рассчитывать статистику и корреляции и многое другое!

Чтобы начать использовать pandas, нам нужно сначала импортировать его:

	import pandas as pd 

pd — это обычное короткое имя, используемое при импорте библиотеки.

> Подсказка: Pandas происходит от термина «панельные данные», в термине эконометрики для наборов данных, которые включают наблюдения за несколькими периодами времени для одних и тех же людей.

### Series & DataFrames (Это классы, без перевода)

Двумя основными компонентами pandas являются Series и DataFrame.

Серия — это, по сути, столбец, а DataFrame — это многомерная таблица, состоящая из набора серий.

Например, следующий DataFrame состоит из двух серий, возраста и роста.

![Example](https://api.sololearn.com/DownloadFile?id=4554)

> Подсказка: вы можете думать о Series как об одномерном массиве, а DataFrame — как о многомерном массиве.

***

## Создание DataFrames

### DataFrames

Прежде чем работать с реальными данными, давайте сначала создадим DataFrame вручную, чтобы изучить его функции.
Самый простой способ создать DataFrame — использовать словарь:

	data = {
	   'ages': [14, 18, 24, 42],
	   'heights': [165, 180, 176, 184]
	}

Каждый ключ — это столбец, а значение — это массив, представляющий данные для этого столбца.

Теперь мы можем передать этот словарь в конструктор DataFrame:

	import pandas as pd

	data = {
	   'ages': [14, 18, 24, 42],
	   'heights': [165, 180, 176, 184]
	}
	
	df = pd.DataFrame(data)
	print(df)

### DataFrames 

DataFrame автоматически создает числовой индекс для каждой строки.
Мы можем указать собственный индекс при создании DataFrame:

	import pandas as pd

	data = {
	   'ages': [14, 18, 24, 42],
	   'heights': [165, 180, 176, 184]
	}
	
	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])
	print(df)

Теперь мы можем получить доступ к строке, используя ее индекс и функцию loc[]:

	import pandas as pd
	
	data = {
	   'ages': [14, 18, 24, 42],
	   'heights': [165, 180, 176, 184]
	}
	
	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])
	print(df.loc["Bob"])

Это выведет строку, соответствующую индексу «Bob».

> Подсказка: обратите внимание, что loc использует квадратные скобки для указания индекса.

***

## Индексы и срезы

### Индексирование

Мы можем выбрать один столбец, указав его имя в квадратных скобках:

	import pandas as pd

	data = {
   	'ages': [14, 18, 24, 42],
 	  'heights': [165, 180, 176, 184]
	}
	
	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])
	
	print(df["ages"])
Результатом является объект Series.

Если мы хотим выбрать несколько столбцов, мы можем указать список имен столбцов:

	import pandas as pd

	data = {
 	  'ages': [14, 18, 24, 42],
 	  'heights': [165, 180, 176, 184]
	}

	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])

	print(df[["ages", "heights"]])

На этот раз результатом является DataFrame, так как он включает в себя несколько столбцов.

> Подсказка: это полезно, когда нам нужно выбрать только часть столбцов из набора данных.

### Срезы

Pandas использует функцию iloc для выбора данных на основе их числового индекса.
Он работает так же, как списки индексации в Python.

	import pandas as pd
	
	data = {
 	  'ages': [14, 18, 24, 42],
 	  'heights': [165, 180, 176, 184]
	}

	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])

	# third row
	print(df.iloc[2])
	
	#first 3 rows
	print(df.iloc[:3])
	
	# rows 2 to 3
	print(df.iloc[1:3])

> Подсказка: iloc следует тем же правилам, что и срезы в списках Python.

### Условия

Мы также можем выбирать данные на основе условия.
Например, выберем все строки, где возраст больше 18, а рост больше 180:

	import pandas as pd
		
	data = {
 	  'ages': [14, 18, 24, 42],
 	  'heights': [165, 180, 176, 184]
	}
		
	df = pd.DataFrame(data, index=['James', 'Bob', 'Amy', 'Dave'])
		
	print(df[(df['ages']>18) & (df['heights']>180)])

> Подсказка: аналогично или | Оператор может использоваться для объединения условий.

***

## Чтение информации

### Чтение информации

Довольно часто данные поступают в формате файла. Одним из самых популярных форматов является CSV (значения, разделенные запятыми).
Pandas поддерживает чтение данных из файла CSV непосредственно в DataFrame.

В наших примерах мы будем использовать файл CSV, содержащий данные о заражении COVID-19 в Калифорнии за 2020 год, который называется «ca-covid.csv».

Функция read_csv() считывает данные файла CSV в DataFrame:

	df = pd.read_csv("ca-covid.csv")

Нам нужно указать путь к файлу для функции read_csv().

> Подсказка: Pandas также поддерживает чтение из файлов JSON и баз данных SQL.

### Чтение информации

Когда у нас есть данные в DataFrame, мы можем начать их изучение.
Мы можем получить первые строки данных, используя функцию head() DataFrame:

	import pandas as pd
	
	df = pd.read_csv("/uploads/ca-covid.csv")
	
	print(df.head()) 

![Example](https://api.sololearn.com/DownloadFile?id=4558)

По умолчанию он возвращает первые 5 строк. Вы можете указать ему возвращать в качестве аргумента количество строк, которое вы хотите (например, df.head(10) вернет первые 10 строк).

Мы видим, что наш DataFrame содержит дату, состояние, количество случаев и смертей на эту дату.

> Подсказка: Точно так же вы можете получить последние строки, используя функцию tail().

### тение информации

Функция info() используется для получения важной информации о вашем наборе данных, такой как количество строк, столбцов, типы данных и т. д.:

	import pandas as pd

	df = pd.read_csv("uploads/ca-covid.csv")

	df.info()

Из результата мы видим, что наш набор данных содержит 342 строки и 4 столбца: дата, состояние, случаи, смерти.

Мы также видим, что Pandas добавил автоматически сгенерированный индекс.
Мы можем установить наш собственный индексный столбец с помощью функции set_index():

	import pandas as pd

	df = pd.read_csv("uploads/ca-covid.csv")
	df.set_index("date", inplace=True)

	print(df.head())	

Столбец даты — хороший выбор для нашего индекса, так как для каждой даты есть одна строка.

> Подсказка: Аргумент inplace=True указывает, что изменение будет применено к нашему DataFrame без необходимости назначать его новой переменной DataFrame.

### Удаление столбца


Поскольку наши данные относятся только к штату Калифорния, мы можем удалить этот столбец из нашего DataFrame, так как он содержит одно и то же значение для всех строк:

	import pandas as pd
	
	df = pd.read_csv("uploads/ca-covid.csv")
	df.set_index('date', inplace=True)
	df.drop('state', axis=1, inplace=True)
	
	df.info()

* drop() удаляет строки и столбцы.
* axis=1 указывает, что мы хотим удалить столбец.
* axis=0 удалит строку.

> Подсказка: теперь наш набор данных стал намного чище: у нас есть индекс дат и столбцы casedeaths.
	
